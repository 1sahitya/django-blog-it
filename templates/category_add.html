<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <form action="" id="post-form" enctype="multipart/form-data" method="post">
        {% csrf_token %}
        <div class="form_group">
          <span class='control_label'>Name:</span>
          <div class="form_control">
            <input id="name" type="text" maxlength="20" name="name" value="{{ category_name.name }}">
          </div>
        </div>

        <div class="form_group">
          <span class='control_label'>Description:</span>
          <div class="form_control">
            <input id="description" type="text" maxlength="500" name="description" value="{{ category_name.description }}">
          </div>
        </div>

        <div class="form_group">
          <span class='control_label'>Is active:</span>
          <div class="form_control">
            <input id="is_active" type="checkbox" name="is_active" {% if category_name.is_active %}checked{% endif %}>
          </div>
        </div>


        <button type="submit">Submit</button>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript">
        $('#post-form').ajaxForm(function(){

            $.post("",$('#post-form').serialize(), function(data){
                if(data.error){
                    $('p.error_required').remove();
                    for (var key in data.response) {
                        $('#' + key).after('<p class="error_required">' + data.response[key] + '</p>');
                    }
                }else{
                    alert(data['response']);
                }
            }, 'json');
        });
    </script>
</body>
</html>